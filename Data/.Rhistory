spread <- (p_tib$wti.l1 - eg_coef[2]*p_tib$brent.l1)/eg_coef[3]
res <- na.omit(lag(eg$residuals))
res2 <- eg$coefficients[1] + eg$coefficients[2]*p_tib$brent
res3 <-
autoplot(spread)
ggplot() +
geom_histogram(mapping = aes(res), bins = 500)
autoplot(spread)
joc@V
make_cointegrated <- function() {
y = p_tib$wti.l1
x = p_tib$brent.l1
if( dim(joc@V)[1] > 2) {
const = joc@V[3,1]
} else {
const = 0
}
y_val = joc@V[1,1]
x_val = joc@V[2,1]
coint = y*y_val + x*x_val + const
return(coint)
}
spread_jo <- make_cointegrated()
autoplot(spread_jo)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
trade <- function(current, target, price_cur) {
# Take the current asset, and add whatever needs to be added to make
# the asset's holdings equivalent to the target. Next, record changes in cash
# and return everything.
change = target-current
cashflow = change*price_cur
return(cashflow)
}
trade_determine <- function(df, stdevs=1, cash = 1000, scale = 1) {
y = df$wti
x = df$brent
if( dim(joc@V)[1] > 2) {
const = joc@V[3,1]
} else {
const = 0
}
y_val = joc@V[1,1]
x_val = joc@V[2,1]
coint = y*y_val + x*x_val + const
colnames(coint) <- "spread"
error <- spread_jo - mean(spread_jo)
threshold <- stdevs*(sd(spread_jo) - mean(spread_jo))
coint$long_wti <- coint$spread < -threshold
coint$long_brent <- coint$spread > threshold
coint$position_wti <- 0
coint$position_brent <- 0
coint$cash <- cash
for(i in 1:dim(coint)[1]){
# There's two possible choices for each asset -
# 1. We are long the asset we're supposed to be, so buy more.
# 2. We are short when we're supposed to be long, so buy enough to make
#    portfolio holdings the beginning of the holding, i.e. 1 for wti
#    or 0.85 or whatever for Brent.
# If we're supposed to be long WTI, do this:
if(coint$long_wti[i] == 1) {
# If we are supposed to be long WTI and we're already long, buy more.
if(sign(coint$position_wti[i-1]) >= 0) {
# trade(current, target, price)
# return(list[change,cashflow])
wti_target = coint$position_wti[i-1] + 1*scale
brent_target = coint$position_brent[i-1] + x_val*scale
wti_price = y[[i]]
brent_price = x[[i]]
cashflow = trade(coint$position_wti[i-1], wti_target, wti_price)
coint$position_wti[i] <- wti_target
coint$cash[i] <- coint$cash[i-1] + cashflow
cashflow = trade(coint$position_brent[i-1], brent_target,
brent_price)
coint$position_brent[i] <- brent_target
coint$cash[i] <- coint$cash[i-1] + cashflow
}
# Otherwise, we need to buy enough to make our holdings long. WTI needs
# to be set to +1, Brent to -x_val.
if(sign(coint$position_wti[i-1]) == -1) {
wti_target = 1*scale
brent_target = x_val*scale
wti_price = y[[i]]
brent_price = x[[i]]
cashflow = trade(coint$position_wti[i-1], wti_target,wti_price)
coint$position_wti[i] <- wti_target
coint$cash[i] <- coint$cash[i-1] + cashflow
cashflow = trade(coint$position_brent[i-1], brent_target,brent_price)
coint$position_brent[i] <- brent_target
coint$cash[i] <- coint$cash[i-1] + cashflow
}
}
# If we're supposed to be long Brent, do this.
if(coint$long_brent[i] == 1) {
if(sign(coint$position_brent[i-1]) >= 0) {
wti_target = coint$position_wti[i-1] - 1*scale
brent_target = coint$position_brent[i-1] - x_val*scale
wti_price = y[[i]]
brent_price = x[[i]]
cashflow = trade(coint$position_wti[i-1], wti_target,
wti_price)
coint$position_wti[i] <- wti_target
coint$cash[i] <- coint$cash[i-1] + cashflow
cashflow = trade(coint$position_brent[i-1], brent_target,
brent_price)
coint$position_brent[i] <- brent_target
coint$cash[i] <- coint$cash[i-1] + cashflow
}
# If we're short brent, flip the position.
if(sign(coint$position_brent[i-1]) == -1) {
wti_target = -1*scale
brent_target = -x_val*scale
wti_price = y[[i]]
brent_price = x[[i]]
cashflow = trade(coint$position_wti[i-1], wti_target,
wti_price)
coint$position_wti[i] <- wti_target
coint$cash[i] <- coint$cash[i-1] + cashflow
cashflow = trade(coint$position_brent[i-1], brent_target,
brent_price)
coint$position_brent[i] <- brent_target
coint$cash[i] <- coint$cash[i-1] + cashflow
}
}
# If we're not supposed to be anything, close out positions.
if(coint$long_brent == 0 & coint$long_wti == 0) {
wti_target = 0
brent_target = 0
wti_price = y[[i]]
brent_price = x[[i]]
cashflow = trade(coint$position_wti[i-1], wti_target,wti_price)
coint$position_wti[i] <- wti_target
coint$cash[i] <- coint$cash[i-1] + cashflow
cashflow = trade(coint$position_brent[i-1], brent_target,brent_price)
coint$position_brent[i] <- brent_target
coint$cash[i] <- coint$cash[i-1] + cashflow
}
}
# Calculate portfolio value
coint$wti_value <- coint$position_wti*y
coint$brent_value <- coint$position_brent*(x*-x_val)
coint$portfolio_value <- coint$wti_value + coint$brent_value
# Calculate change in value
coint$wti_delta <- diff.xts(coint$wti_value)
coint$brent_delta <- diff.xts(coint$brent_value)
# Calculate returns
coint$brent_returns <- diff.xts(coint$brent_value)/lag.xts(coint$brent_value)
coint$wti_returns <- diff.xts(coint$wti_value)/lag.xts(coint$wti_value)
coint$portfolio_returns <- coint$wti_returns - coint$brent_returns
return(coint)
}
trades <- trade_determine(price, 0.5, 10000)
ggplot() +
geom_line(mapping = aes(price(index), (price$brent-price$wti)))
ggplot() +
geom_line(mapping = aes(price(index), (p_tib$brent-p_tib$wti)))
ggplot() +
geom_line(mapping = aes(price(index), (p_tib$brent-p_tib$wti)))
ggplot() +
geom_line(mapping = aes(index(price), (price$brent-price$wti)))
ggplot() +
geom_line(mapping = aes(index(price), (price$brent-price$wti))) +
geom_line(mapping = aes(index(price), (price$brent*joc@V[2,1] + price$wti)))
joc
summary(joc)
ggplot() +
geom_line(mapping = aes(index(price), (price$brent-price$wti))) +
geom_line(mapping = aes(index(price), (price$brent*joc@V[2,1] + price$wti)), color = 'red')
ggplot() +
geom_line(mapping = aes(index(price), (price$brent-price$wti))) +
geom_line(mapping = aes(index(price), (price$brent*joc@V[2,1] + price$wti)), color = 'red')
ggplot() +
geom_line(mapping = aes(index(price), (ln(price$brent-price$wti)))) +
geom_line(mapping = aes(index(price), ln(price$brent*joc@V[2,1] + price$wti)), color = 'red')
ln(1)
log(``)
ggplot() +
geom_line(mapping = aes(index(price), log(price$brent-price$wti))) +
geom_line(mapping = aes(index(price), log(price$brent*joc@V[2,1] + price$wti)), color = 'red')
mean(spread)
mean(spread_jo)
ggplot() +
geom_line(mapping = aes(index(price), (price$brent-price$wti))) +
geom_line(mapping = aes(index(price), (price$brent*joc@V[2,1] + price$wti)/mean(spread_jo)), color = 'red')
ggplot() +
geom_line(mapping = aes(index(price), (price$brent*joc@V[2,1] + price$wti)/mean(spread_jo)), color = 'red')
summary(joc)
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trade_determine(price, 0.5, 10000)
summary(trades)
trade_determine(price, 0.5, 10000)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
autoplot(trades$wti_value)
autoplot(price$wti)
autoplot(position$brent)
autoplot(trades$position$brent)
autoplot(trades$position_brent)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
autoplot(trades$brent_paid)
na.locf()
head(na.locf(trades$brent_paid))
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
summary(trades)
autoplot(trades$brent_paid)
autoplot(brent$cash)
autoplot(trades$cash)
head(trades['2008-01-01/'])
head(trades['2008-01-01/'], 10)
head(trades['2007-01-01/'], 10)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
autoplot(trades$cash)
head(trades['2007-01-01/'], 10)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
head(trades['2007-01-01/'], 15)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
(coint$long_wti[550] == 1) && (FALSE)
(trades$long_wti[550] == 1) && (FALSE)
(trades$long_brent["2017-01-12"] == 1) && (FALSE)
(trades$long_brent["2017-01-12"] == 1) && (TRUE)
(trades$long_brent["2017-01-12"] == 1) & (TRUE)
trades$long_brent["2017-01-12"] == 1 & (TRUE)
trades$long_brent["2017-01-12"] == 1 & TRUE
trades$long_brent["2017-01-17"] == trades$long_wti["2007-01-17"]
trades$long_brent[["2017-01-17"]] == trades$long_wti[["2007-01-17"]]
trades$long_brent["2017-01-17"]
trades$long_brent[10]]
trades$long_brent[10]
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
trades$long_wti[[10]] == trade$long_brent[[10]]
trades$long_wti[10] == trade$long_brent[10]
trades$long_wti[[10]] == trades$long_brent[[10]]
trades$long_wti[[10]] != trades$long_brent[[10]]
(coint$long_wti[[i]] == 1) && (trade))
trade = FALSE
(coint$long_wti[[i]] == 1) && (trade))
(coint$long_wti[[i]] == 1) && (trade)
(trades$long_wti[[i]] == 1) && (trade)
(trades$long_wti[[30]] == 1) && (trade)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
head(trades['2007-01-01/'], 15)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
trades[trades$long_wti == 1]
equals()
identical()
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
boolean(1)
str(trades$long_wti)
as.integer(1.001)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
coint$long_wti[[i]] == 1
coint$long_wti[[100]] == 1
trades$long_wti[[100]] == 1
(trades$long_wti[[100]] == 1)
(trades$long_wti[[540]] == 1)
(trades$long_wti[[5040]] == 1)
(trades$long_wti['2007-01-17'] == 1)
(trades$long_wti['2007-01-17'])
(trades$long_wti['2007-01-17'] == 0)
(trades$long_wti[['2007-01-17']] == 0)
(trades$long_wti[1] == 0)
(trades$long_wti[[1] == 0)
(trades$long_wti[[1]] == 0)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
trades
trades[i[]]
trades[125]
trades[124]
?next
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
?&
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
debugSource('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
coint$neither[[i]]
debugSource('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades
summary(trades)
tail(trades)
head(trades['2007-01-01/'], 15)
trades[trades$long_brent == 0]
index(trades['2007-01-16'])
trades[1]
trades$long_brent[1]
trades$long_brent[1][1]
trades$long_brent[1][0]
trades$long_brent[1][2]
trades$long_brent[1]
trades$long_brent[[1]]
trades[1,1]
trades[1,3]
trades[1,3] == 1
trades[1,3] == 0
identical(trades[1,3],0)
identical(trades$long_brent[1],0)
identical(trades$long_brent[1],1)
identical(trades$long_brent[1],0)
identical(trades$long_brent[[1]],0)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
summary(trades0)
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
summary(trades)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
summary(trades)
head(trades['2007-01-01/'], 15)
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
head(trades['2007-01-01/'], 15)
length(trades)
dim(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
head(trades['2007-01-01/'], 15)
head(trades['2007-01-01/'], 15)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
error_jo <- spread_jo - mean(spread_jo)
trade_jo <- sd(spread_jo) - mean(spread_jo)
source('C:/Users/cpfif/Documents/R/Energy Finance/Data/tradefunction.R')
trades <- trade_determine(price, 0.5, 10000)
summary(trades)
